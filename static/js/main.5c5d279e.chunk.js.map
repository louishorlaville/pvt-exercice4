{"version":3,"sources":["composants/Entete.jsx","images/couverture.webp","composants/Dossier.jsx","firebase.js","composants/ListeDossiers.jsx","composants/Accueil.jsx","composants/AjouterDossier.jsx","composants/Appli.jsx","index.jsx"],"names":["Entete","utilisateur","className","Button","variant","size","onClick","firebase","auth","signOut","displayName","Avatar","alt","src","photoURL","useStyles","makeStyles","theme","root","display","paper","marginRight","spacing","Dossier","id","nom","couleur","datemodif","couverture","useState","open","setOpen","anchorRef","useRef","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","style","backgroundColor","IconButton","aria-label","disableRipple","couvertureDefaut","formaterDate","ref","aria-controls","undefined","aria-haspopup","prevOpen","Popper","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","MenuItem","d","dateJs","Date","seconds","getDate","getMonth","getFullYear","apps","length","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","instanceFirebaseUI","firebaseui","AuthUI","firestore","ListeDossiers","etatDossiers","dossiers","setDossiers","useEffect","a","tabDossiers","collection","doc","uid","get","forEach","push","data","chercherDossiers","console","log","map","dossier","Accueil","start","signInOptions","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","GithubAuthProvider","signInFlow","GreenButton","withStyles","color","green","overrides","raisedPrimary","RedButton","red","margin","AjouterDossier","ouvert","setOuvert","gererAjout","setNom","setCouverture","setCouleur","viderChamps","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","autoFocus","label","type","fullWidth","onChange","e","value","defaultValue","width","triangle","onChangeComplete","hex","colors","DialogActions","Appli","setUtilisateur","onAuthStateChanged","util","set","courriel","email","datecompte","FieldValue","serverTimestamp","merge","objDossier","signets","add","then","refDoc","Fab","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5c5d279e.chunk.js","sourcesContent":["import './Entete.scss';\r\nimport { Avatar } from '@material-ui/core'; \r\nimport Button from '@material-ui/core/Button';\r\nimport firebase from 'firebase/app';\r\n\r\nexport default function Entete({utilisateur}) {\r\n  return (\r\n    <header className=\"Entete\">\r\n      <div className=\"logo\">\r\n        Signets\r\n        <Button \r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          className=\"btn-deconnexion\"\r\n          onClick={() => firebase.auth().signOut()}\r\n        >\r\n          DÃ©connexion\r\n        </Button>\r\n      </div>\r\n      <div className=\"utilisateur\">{utilisateur.displayName} <Avatar className=\"avatar\" alt={utilisateur.displayName} src={utilisateur.photoURL} /></div>\r\n    </header>\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/couverture.2dc9ece9.webp\";","import './Dossier.scss'; \r\nimport {useState, useRef } from 'react';\r\nimport { IconButton } from '@material-ui/core';\r\nimport SortIcon from '@material-ui/icons/Sort';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport couvertureDefaut from \"../images/couverture.webp\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  paper: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function Dossier({id, nom, couleur, datemodif, couverture}) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const anchorRef = useRef(null);\r\n\r\n  const handleToggle = () => {\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  const handleClose = (event) => {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  function handleListKeyDown(event) {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <article className=\"Dossier\" style={{backgroundColor: couleur}}>\r\n      <div className=\"couverture\">\r\n        <IconButton className=\"deplacer\" aria-label=\"dÃ©placer\" disableRipple={true}>\r\n          <SortIcon />\r\n        </IconButton>\r\n        <img src={couverture? couverture: couvertureDefaut} alt={nom}/>\r\n      </div>\r\n      <div className=\"info\">\r\n        <h2>{nom}</h2>\r\n        <p>ModifiÃ© : {formaterDate(datemodif)}</p>\r\n      </div>\r\n      <IconButton \r\n        className=\"modifier\" \r\n        aria-label=\"modifier\" \r\n        size=\"small\" \r\n        ref={anchorRef}\r\n        aria-controls={open ? 'menu-list-grow' : undefined}\r\n        aria-haspopup=\"true\"\r\n        onClick={handleToggle}\r\n      >\r\n        {/* Menu contextuel */}\r\n        <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\r\n          {({ TransitionProps, placement }) => (\r\n            <Grow\r\n              {...TransitionProps}\r\n              style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'left bottom' }}\r\n            >\r\n              <Paper>\r\n                <ClickAwayListener onClickAway={handleClose}>\r\n                  <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n                    <MenuItem onClick={handleClose}>Modifier</MenuItem>\r\n                    <MenuItem onClick={handleClose}>Supprimer</MenuItem>\r\n                  </MenuList>\r\n                </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Popper>\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n    </article>\r\n  );\r\n}\r\n\r\n/**\r\n * Formate les objets date de Firestore et retourne une chaÃ®ne de caractÃ¨res\r\n * @param {Object} d Objet date retournÃ© par Firestore\r\n * @returns String date formatÃ©e en franÃ§ais\r\n */\r\nfunction formaterDate(d) {\r\n  const dateJs = d ? new Date(d.seconds*1000) : new Date();\r\n  const mois = ['janvier', 'fÃ©vrier', 'mars', 'avril', 'mai', 'juin', 'juillet', 'aoÃ»t', 'septembre', 'octobre', 'novembre', 'dÃ©cembre'];\r\n  return `${dateJs.getDate()} ${mois[dateJs.getMonth()]} ${dateJs.getFullYear()}`;\r\n}","import firebase from 'firebase/app';\r\nimport * as firebaseui from 'firebaseui';\r\nimport 'firebase/firestore';\r\n\r\n// Configuration (mettez-y les vÃ´tres !)\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCNoBew2DQyWGQigE_yW5RxPs6H5NA_NhE\",\r\n  authDomain: \"pvt-h21-lh.firebaseapp.com\",\r\n  databaseURL: \"https://pvt-h21-lh-default-rtdb.firebaseio.com\",\r\n  projectId: \"pvt-h21-lh\",\r\n  storageBucket: \"pvt-h21-lh.appspot.com\",\r\n  messagingSenderId: \"451415435455\",\r\n  appId: \"1:451415435455:web:069b921878f8b6d2707e0a\"\r\n};\r\n\r\n// Initialiser Firebase\r\nif(!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n}\r\n\r\n// Initialiser FirebaseUI\r\nexport const instanceFirebaseUI = new firebaseui.auth.AuthUI(firebase.auth());\r\n\r\n// Initialiser Firestore\r\nexport const firestore = firebase.firestore();\r\n","import './ListeDossiers.scss';\r\nimport Dossier from './Dossier';\r\nimport { firestore } from '../firebase';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function ListeDossiers({utilisateur, etatDossiers}) {\r\n  // Ãtat des dossiers (notez que cet Ã©tat est dÃ©fini dans le composant parent \"Appli\", et passÃ© ici dans les props)\r\n  const [dossiers, setDossiers] = etatDossiers;\r\n\r\n  useEffect(\r\n    () => {\r\n      // On crÃ©e une fonction asynchrone pour pouvoir utiliser la syntaxe await sur les requÃªtes asynchrones Ã  Firestore\r\n      async function chercherDossiers() {\r\n        // Tableau qui va recevoir nos dossiers de Firestore\r\n        const tabDossiers = [];\r\n        // La requÃªte Ã  Firestore utilise 'await' pour retourner la rÃ©ponse\r\n        const reponse = await firestore.collection('utilisateurs-ex4').doc(utilisateur.uid).collection('dossiers').get();\r\n        // On traverse la rÃ©ponse ...\r\n        reponse.forEach(\r\n          // ... et pour chaque doc dans la rÃ©ponse on ajoute un objet dans tabDossiers\r\n          doc => {\r\n            tabDossiers.push({id: doc.id, ...doc.data()})\r\n          }\r\n          // Remarquez que le 'id' ne fait pas partie des attributs de donnÃ©es des documents sur Firestore, et il faut l'extraire sÃ©parÃ©ment avec la propriÃ©tÃ© 'id'. Remarquez aussi l'utilisation de l'opÃ©rateur de dÃ©composition (spread operator (...))\r\n        );\r\n        // Une fois notre rÃ©ponse traitÃ©e au complet et le tableau tabDossiers renpli avec tous les objets reprÃ©sentants les documents 'dossiers' trouvÃ©s, nous pouvons faire la mutation de l'Ã©tat de la variable 'dossiers' (en utilisant le mutateur setDossiers) pour forcer un 'rerender' (rÃ©affichage) du composant par React\r\n        setDossiers(tabDossiers);\r\n      }\r\n      // Faut pas oublier d'appeler la fonction\r\n      chercherDossiers();\r\n      console.log(dossiers.length);\r\n    }, []\r\n  );\r\n\r\n  return (\r\n    <ul className=\"ListeDossiers\">\r\n      {console.log(dossiers.length)}\r\n      {\r\n        \r\n        dossiers.length >= 1 ?\r\n        <>\r\n        {\r\n          dossiers.map( \r\n            dossier =>  <li key={dossier.id}><Dossier {...dossier} /></li>\r\n          )\r\n        }\r\n        </>\r\n        :\r\n        <div className=\"msgErreurDossiers\"><span>Votre list de dossiers est vide</span><br/><span>;-(</span></div>\r\n      }\r\n    </ul>\r\n  );\r\n}","import './Accueil.scss';\r\nimport firebase from 'firebase/app';\r\nimport { instanceFirebaseUI } from '../firebase';\r\nimport 'firebaseui/dist/firebaseui.css';\r\nimport { useEffect } from 'react';\r\n\r\nexport default function Accueil() {\r\n  useEffect(\r\n    () => instanceFirebaseUI.start(\"#firebaseui-widget\", {\r\n      signInOptions: [\r\n        firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n        firebase.auth.FacebookAuthProvider.PROVIDER_ID,\r\n        firebase.auth.GithubAuthProvider.PROVIDER_ID\r\n      ],\r\n      signInFlow: 'popup'\r\n    }, [])\r\n  )\r\n\r\n  return (\r\n    <div className=\"Accueil\">\r\n      <h3 className=\"logo\">Signets <span>beta</span></h3>\r\n      <h2 className=\"amorce\">Organisez vos signets Web, <br />Simple comme bonjour !</h2>\r\n      <h4 className=\"connexion-etiquette\">Connexion Ã  Signets</h4>\r\n      <div id=\"firebaseui-widget\"></div>\r\n    </div>\r\n  )\r\n}","import Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { useState } from 'react';\r\nimport { TwitterPicker } from 'react-color';\r\nimport { green, red} from '@material-ui/core/colors';\r\nimport { withStyles,makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst GreenButton = withStyles((theme) => ({\r\n  root: {\r\n    color: '#fff',\r\n    backgroundColor: green[500],\r\n    '&:hover': {\r\n      backgroundColor: green[700],\r\n    },\r\n    overrides: {\r\n      Button: {\r\n        raisedPrimary: {\r\n          color: 'white',\r\n        },\r\n      },\r\n    }\r\n  },\r\n}))(Button);\r\n\r\nconst RedButton = withStyles((theme) => ({\r\n  root: {\r\n    color:'#fff',\r\n    backgroundColor: red[500],\r\n    '&:hover': {\r\n      backgroundColor: red[700],\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function AjouterDossier({ouvert, setOuvert, gererAjout}) {\r\n  const [nom, setNom] = useState('');\r\n  const [couverture, setCouverture] = useState('');\r\n  const [couleur, setCouleur] = useState('#537169');\r\n\r\n  const classes = useStyles();\r\n\r\n  function viderChamps() {\r\n    setNom('');\r\n    setCouverture('');\r\n    setCouleur('#537169');\r\n  }\r\n\r\n  return (\r\n    <div className=\"AjouterDossier\">\r\n      <Dialog open={ouvert} onClose={()=>setOuvert(false)} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Ajouter un dossier</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"nomDossier\"\r\n            label=\"Nom du dossier\"\r\n            type=\"text\"\r\n            fullWidth\r\n            onChange={(e) => setNom(e.target.value)}\r\n            defaultValue={nom}\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"urlImage\"\r\n            label=\"Adresse de l'image de couverture\"\r\n            type=\"text\"\r\n            fullWidth\r\n            onChange={(e) => setCouverture(e.target.value)}\r\n            defaultValue={couverture}\r\n          />\r\n          </DialogContent>\r\n          <DialogContent>\r\n          <TwitterPicker \r\n            width=\"100%\" \r\n            triangle=\"hide\" \r\n            onChangeComplete={(couleur, e) => setCouleur(couleur.hex)}\r\n            color={couleur}\r\n            colors={['#FF6900', '#FCB900', '#7BDCB5', '#00D084', '#8ED1FC', '#0693E3']}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <RedButton onClick={()=>{setOuvert(false); viderChamps()}} color=\"primary\">\r\n            Annuler\r\n          </RedButton>\r\n          <GreenButton onClick={() => {nom !== '' && gererAjout(nom, couverture, couleur); viderChamps(); }} color=\"white\">\r\n            Ajouter\r\n          </GreenButton>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import './Appli.scss';\r\nimport Entete from './Entete';\r\nimport ListeDossiers from './ListeDossiers';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Accueil from './Accueil';\r\nimport { useEffect, useState } from 'react';\r\nimport firebase from 'firebase/app';\r\nimport {firestore} from '../firebase';\r\nimport AjouterDossier from './AjouterDossier';\r\n\r\nexport default function Appli() {\r\n  // Ãtat de l'utilisateur\r\n  const [utilisateur, setUtilisateur] = useState(null);\r\n\r\n  // Ãtat des dossiers\r\n  const etatDossiers = useState([]);\r\n  const [dossiers, setDossiers] = etatDossiers;\r\n\r\n  // Ãtat de la boÃ®te de dialogue \"Ajout Dossier\"\r\n  const [ouvert, setOuvert] = useState(false);\r\n\r\n  // Valider la connexion utilisateur\r\n  useEffect(\r\n    () => {\r\n     firebase.auth().onAuthStateChanged(\r\n       util => {\r\n        setUtilisateur(util);\r\n        // CrÃ©er le profil de l'utilisateur dans Firestore si util n'est pas NULL\r\n        if(util) {\r\n          firestore.collection('utilisateurs-ex4').doc(util.uid).set({\r\n            nom: util.displayName, \r\n            courriel: util.email, \r\n            datecompte: firebase.firestore.FieldValue.serverTimestamp()\r\n          }, {merge: true});\r\n        }\r\n      }\r\n     );\r\n    }, []\r\n  );\r\n  \r\n  // Ajouter un dossier\r\n  function gererAjout(nom, couverture, couleur) {\r\n    // Objet Ã  ajouter dans la collection \"dossiers\" sur Firestore\r\n    const objDossier = {\r\n      nom: nom,\r\n      couverture: couverture,\r\n      couleur: couleur,\r\n      datemodif: firebase.firestore.FieldValue.serverTimestamp(),\r\n      signets: []\r\n    };\r\n    // Ajout de l'objet\r\n    firestore.collection('utilisateurs-ex4').doc(utilisateur.uid).collection('dossiers').add(objDossier).then(\r\n      refDoc => {\r\n        // Puis on utilise la rÃ©fÃ©rence retournÃ©e pour chercher le dÃ©tail du dossier\r\n        refDoc.get().then(\r\n          // Et on modifie l'Ã©tat des dossiers en joignant ce dernier pour forcer un \"rerender\" du composant \"ListeDossiers\"\r\n          doc => setDossiers([...dossiers, {...doc.data(), id: doc.id}])\r\n        );\r\n        // On oublie pas de fermer la boÃ®te de dialogue\r\n        setOuvert(false);\r\n      }\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"Appli\">\r\n      {\r\n        // Un utilisateur est connectÃ© ?\r\n        utilisateur ?\r\n          <>\r\n            <Entete utilisateur={utilisateur} />\r\n            <section className=\"contenu-principal\">\r\n              <ListeDossiers utilisateur={utilisateur} etatDossiers={etatDossiers} />\r\n              <AjouterDossier ouvert={ouvert} setOuvert={setOuvert} gererAjout={gererAjout} />\r\n              <Fab onClick={() => setOuvert(true)} className=\"ajoutRessource\" color=\"primary\" aria-label=\"Ajouter dossier\">\r\n                <AddIcon />\r\n              </Fab>\r\n            </section>\r\n          </>\r\n        // Sinon :\r\n        :\r\n          <Accueil />\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport Appli from './composants/Appli';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Appli />\r\n  </React.StrictMode>,\r\n  document.getElementById('racine')\r\n);\r\n"],"sourceRoot":""}